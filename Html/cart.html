<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="../Css/HeaderFooter.css">
    <link rel="stylesheet" href="../Css/cartTest.css">
    <title>search</title>
</head>
<body>
    <button id="cart">123</button>
    <div class="cartWrapper"  id="cartWrapper" style="display: none;">
        <div class="cartInner" id="cartInner"></div>
        <div class="cart" id="showCart">
            <div class="cart-modal" >
                <div class="cart-modal-content">

                    <div class="cart-modal-content-top">
                        <div class="cart-modal-content-top-title">購物車</div>

                        <div class="cart-modal-content-top-xmark"><a id="closeCart"><i class="fa-solid fa-xmark"></i></a></div>
                    </div>
                    

                    <div class="cart-modal-content-main">
                        <div class="cart-modal-content-main-img">
                            <img src="../ALLITEMS/TENT/frontpageProductOne-one.jpeg" alt="">
                        </div>
                        <div class="cart-modal-content-main-information">
                            <span>TOUGH SCREEN 2-ROOM HOUSE MDX / CM-38139M000</span>
                            <ul>
                                <li><span>NT$ 22000 &nbsp x</span></li>
                                <li><a class="subtract"><i class="fa-solid fa-minus"></i></a></li>
                                <li><span id="text" value="1">1</span></li>
                                <li><a class="plus"><i class="fa-solid fa-plus"></i></a></li>
                            </ul>
                        </div>
                        <div class="cart-modal-content-main-cancel">
                            <a id="xmark"><i class="fa-solid fa-xmark"></i></a>
                        </div>
                    </div>
                   

                    <div class="cart-modal-content-total">
                        <div class="cart-modal-content-total-title">
                            <span>合計:</span>
                        </div>
                        <div class="cart-modal-content-total-money">
                            <span>NT:</span><span id="money">22000</span>
                        </div>
                    </div>


                    <div class="cart-modal-content-bill">
                        <button onclick="location.href='../Html/cartSystem.html'">訂單結帳</button>
                    </div>

                </div>  
            </div>  
            </div>
        </div>
        <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>   
        <script>
            
            const cart = document.getElementById('cart');
            cart.addEventListener('click', () => {
            const cartWrapper = document.getElementById('cartWrapper');

            if (cartWrapper.style.display === 'none') {
                cartWrapper.style.display = 'block';
            } else {

                cartWrapper.style.display = 'none';
            }
            });

            const cartInner = document.getElementById('cartInner');
            cartInner.addEventListener('click', () => {
            const cartWrapper = document.getElementById('cartWrapper');
            if (cartWrapper.style.display === 'block') {
                cartWrapper.style.display = 'none';
            } else {
                cartWrapper.style.display = 'block';
            }
            });

            const closeCart = document.getElementById('closeCart');
            closeCart.addEventListener('click', () => {
            const cartWrapper = document.getElementById('cartWrapper');

            if (cartWrapper.style.display === 'none') {
                cartWrapper.style.display = 'block';
            } else {
                cartWrapper.style.display = 'none';
            }
            });

            let subtract = document.getElementsByClassName('subtract')[0];
            subtract.addEventListener('click', function(e){
                console.log('123');
                let text = document.getElementById('text')

                console.log(text);
                let one = 1
                let count =  text.innerText
                count = count -  one

                console.log(count);
            
                text.innerText = count
                // console.log(typeof(count));
            
                if( text.innerText < 2){
                    text.innerText = 1
                }
                console.log(text.innerText);

                let money = document.getElementById('money')
                console.log(money);

                let moneyCount = Number(money.innerText)
                console.log( typeof(moneyCount));
               
                let two =  22000
                moneyCount -= two
                console.log(moneyCount);
                money.innerHTML = `${moneyCount}`


                console.log(moneyCount);
                console.log(money);

                if( money.innerText < 22000){
                    money.innerText = 22000
                }



            })

            let plus = document.getElementsByClassName('plus')[0];
            plus.addEventListener('click', function(e){
                console.log('123');
                let text = document.getElementById('text')

                console.log(text);
                let one = 1
                let count =  Number(text.innerText)
                count = count +  one

                console.log(count);
            
                text.innerText = count
                console.log(text.innerText);

                let money = document.getElementById('money')
                console.log(money);

                let moneyCount = Number(money.innerText)
                console.log( typeof(moneyCount));
               
                let two =  22000
                moneyCount += two
                console.log(moneyCount);
                money.innerHTML = `${moneyCount}`


                console.log(moneyCount);
                console.log(money);
                
            })
            let content_main_img = document.getElementsByClassName("cart-modal-content-main-img")[0];
            let content_main_information = document.getElementsByClassName("cart-modal-content-main-information")[0];
            let content_main_cancel= document.getElementsByClassName("cart-modal-content-main-cancel")[0];
            let content_main_total= document.getElementsByClassName("cart-modal-content-total")[0];

            let content_main = document.getElementsByClassName("cart-modal-content-main")[0];
           
            
            let xmark = document.getElementById('xmark')
            xmark.addEventListener('click', function(){
                console.log('123');
                let sure = true
                if(confirm('確定要刪除')){
                    content_main_img.style.display = 'none'
                    content_main_information.style.display = 'none'
                    content_main_cancel.style.display = 'none'
                    content_main_total.style.display = 'none'
                    content_main.style.borderBottom = 0
                }else{

                }
                
                
            })

        </script>
</body>
</html>
